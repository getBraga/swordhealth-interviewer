(function(){"use strict";var e={8248:function(e,t,n){var s=n(6369),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("TheHeaderVue",{directives:[{name:"show",rawName:"v-show",value:e.allowHeader,expression:"allowHeader"}]}),t("router-view",{staticClass:"container-body"})],1)},a=[],r=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"header"},[t("PageLoading",{attrs:{isLoading:e.isLoading}}),t("ul",{staticClass:"header-ul"},[t("li",{staticClass:"logo"},[t("router-link",{attrs:{to:"/"}},[e._v("LOGO")])],1),t("li",{staticClass:"discovery"},[t("router-link",{attrs:{to:"/discovery",c:""}},[e._v("Discovery")])],1),t("li",[t("router-link",{attrs:{to:"/user"}},[e._v(e._s(e.name))])],1),t("li",{on:{click:function(t){return e.logout()}}},[t("router-link",{attrs:{to:"#"}},[e._v("Logout")])],1)])],1)},o=[],u=(n(7658),{name:"TheHeader",data(){return{isLoading:!1}},methods:{logout(){window.localStorage.removeItem("token"),this.$router.push({name:"signin"})}},components:{},computed:{name(){return this.$store.getters.firstName}},async created(){try{window.localStorage.getItem("token")&&(this.isLoading=!0,await this.$store.dispatch("validateToken"),this.isLoading=!1)}catch(e){this.isLoading=!1,window.localStorage.removeItem("token")}}}),l=u,p=n(1001),d=(0,p.Z)(l,r,o,!1,null,"0ed0c46e",null),m=d.exports,c={name:"IndexApp",components:{TheHeaderVue:m},data(){return{isLoading:!1}},computed:{allowHeader(){return"signin"!==this.$route.name&&"signup"!==this.$route.name}},async updated(){try{this.isLoading=!0,this.allowHeader&&await this.$store.dispatch("validateToken")}catch(e){window.localStorage.removeItem("token"),this.isLoading=!1}}},g=c,h=(0,p.Z)(g,i,a,!1,null,null,null),f=h.exports,w=n(2631),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"})},y=[],I={name:"HomeView",components:{}},S=I,k=(0,p.Z)(S,v,y,!1,null,null,null),b=k.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sigin"},[t("PageLoading",{attrs:{isLoading:e.isLoading}}),t("SignInOrSignUpComponent",{attrs:{tittle:"Code Challenge",username:e.username,email:e.email,password:e.password,buttonText:"Sign In",signInPage:!0,"signin-or-signup":!0,methodUser:e.signIn,msgError:e.error},on:{"update:email":function(t){e.email=t},"update:password":function(t){e.password=t}}})],1)},U=[],L=function(){var e=this,t=e._self._c;return t("section",{class:e.signinOrSignup?"signin-or-signup":"username"},[t("h1",{style:e.signinOrSignup?"":"text-align: left"},[e._v(e._s(e.tittle))]),t("form",[e.signInPage?e._e():t("div",[t("b-field",{attrs:{"label-for":"username",label:e.signinOrSignup?"Username":"Username*"}},[t("b-input",{attrs:{id:"username",placeholder:"Username",name:"username",required:""},model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}})],1)],1),t("div",[t("b-field",{attrs:{"label-for":"email",label:"E-mail"}},[t("b-input",{attrs:{type:"email",id:"email",placeholder:"E-mail",name:"email"},model:{value:e.emailInput,callback:function(t){e.emailInput=t},expression:"emailInput"}})],1)],1),e.signinOrSignup?t("div",[t("b-field",{attrs:{"label-for":"password",label:"Password"}},[t("b-input",{attrs:{type:"password",id:"password",placeholder:"******",name:"password",required:""},model:{value:e.passwordInput,callback:function(t){e.passwordInput=t},expression:"passwordInput"}})],1)],1):e._e(),t("b-button",{staticClass:"btn",attrs:{type:"is-primary"},on:{click:function(t){return t.preventDefault(),e.methodUser()}}},[e._v(e._s(e.buttonText)+" ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.msgError,expression:"msgError"}],class:e.signinOrSignup?"is-danger text-center":"is-danger"},[e._v(e._s(e.msgError))]),e.signInPage?t("p",{staticClass:"msg-signup-or-signin"},[e._v("Don't have an account? "),t("router-link",{staticClass:"signup-link",attrs:{to:"/signup"}},[e._v("Click here to sign up.")])],1):e._e(),e.signinOrSignup&&!e.signInPage?t("p",{staticClass:"msg-signup-or-signin"},[t("router-link",{staticClass:"signup-link",attrs:{to:"/signin"}},[e._v("Click here to sign in.")])],1):e._e()],1)])},C=[],T={name:"SignInOrSignUpComponent",props:{tittle:{type:String,required:!0},username:{type:String,required:!1},email:{type:String,required:!1},password:{type:String,required:!0},methodUser:{type:Function,required:!0},buttonText:{type:String,required:!0},signInPage:{type:Boolean,required:!0},signinOrSignup:{type:Boolean,required:!0},msgError:{type:String}},data(){return{usernameInput:this.username,emailInput:this.email,passwordInput:this.password}},watch:{username(){this.usernameInput=this.username},email(){this.emailInput=this.email},usernameInput(){this.$emit("update:username",this.usernameInput)},emailInput(){this.$emit("update:email",this.emailInput)},passwordInput(){this.$emit("update:password",this.passwordInput)}}},P=T,O=(0,p.Z)(P,L,C,!1,null,null,null),$=O.exports,x={name:"SigninView",components:{SignInOrSignUpComponent:$},data(){return{username:"",email:"",password:"",error:"",isLoading:!1}},methods:{async signIn(){try{this.isLoading=!0;const e={email:this.email,password:this.password};await this.$store.dispatch("sigIn",e),this.error="",this.$buefy.toast.open({duration:1e3,message:"successfully logged in user!",position:"is-bottom",type:"is-success"}),this.isLoading=!1,this.$router.push({name:"home"})}catch(e){this.$buefy.toast.open({duration:5e3,message:`${e.response.data.error.message}`,position:"is-bottom",type:"is-danger"}),this.isLoading=!1}}}},E=x,Z=(0,p.Z)(E,_,U,!1,null,null,null),q=Z.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"discovery"},[e._v(" Discovery ")])},N=[],A={name:"DiscoveryPage",components:{}},B=A,D=(0,p.Z)(B,z,N,!1,null,null,null),H=D.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sigup"},[t("PageLoading",{attrs:{isLoading:e.isLoading}}),t("SignInOrSignUpComponent",{attrs:{tittle:"My account",username:e.username,password:"",email:e.email,buttonText:"Save",signInPage:!1,"signin-or-signup":!1,methodUser:e.putUser,msgError:e.error},on:{"update:username":function(t){e.username=t},"update:email":function(t){e.email=t}}})],1)},R=[],j={name:"SignUp",components:{SignInOrSignUpComponent:$},data(){return{user:null,username:"",email:"",testar:!1,isLoading:!1,error:""}},async created(){await this.getUser()},methods:{async getUser(){try{this.isLoading=!0,await this.$store.dispatch("validateToken"),this.username=this.$store.state.user.name,this.email=this.$store.state.user.email,this.isLoading=!1}catch(e){"TOKEN_EXPIRED"==e.response.data.error.message&&this.$router.push({name:"signin"})}},async putUser(){try{if(""!==this.username){this.isLoading=!0;const e={displayName:this.username,email:this.email,idToken:window.localStorage.getItem("token"),returnSecureToken:!0};await this.$store.dispatch("updateUser",e),this.$buefy.toast.open({duration:1e3,message:"User updated successfully!",position:"is-bottom",type:"is-success"}),this.isLoading=!1}this.username||this.$buefy.toast.open({duration:5e3,message:"INVALID_USERNAME",position:"is-bottom",type:"is-danger"})}catch(e){this.isLoading=!1,this.error=e.response.data.error.message}}}},G=j,V=(0,p.Z)(G,Q,R,!1,null,null,null),Y=V.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sigup"},[t("PageLoading",{attrs:{isLoading:e.isLoading}}),t("SignInOrSignUpComponent",{attrs:{tittle:"Code Challenge",username:e.username,email:e.email,password:e.password,buttonText:"Sign Up",signInPage:!1,methodUser:e.createUser,"signin-or-signup":!0,msgError:e.error},on:{"update:username":function(t){e.username=t},"update:email":function(t){e.email=t},"update:password":function(t){e.password=t}}})],1)},F=[],K={name:"SignUp",components:{SignInOrSignUpComponent:$},data(){return{username:"",email:"",password:"",error:"",isLoading:!1}},methods:{async createUser(){try{if(""!==this.username){this.isLoading=!0;const e={displayName:this.username,email:this.email,password:this.password};await this.$store.dispatch("signUp",e),this.isLoading=!1,this.$buefy.toast.open({duration:1e3,message:"User created successfully!",position:"is-bottom",type:"is-success"}),this.$router.push({name:"home"})}this.username||this.$buefy.toast.open({duration:5e3,message:"Username field required",position:"is-bottom",type:"is-danger"})}catch(e){this.isLoading=!1,this.$buefy.toast.open({duration:5e3,message:`${e.response.data.error.message}`,position:"is-bottom",type:"is-danger"})}}}},W=K,X=(0,p.Z)(W,M,F,!1,null,null,null),J=X.exports;s.ZP.use(w.ZP);const ee=[{path:"/",name:"home",component:b,meta:{login:!0}},{path:"/discovery",name:"discovery",component:H,meta:{login:!0}},{path:"/user",name:"user",component:Y,meta:{login:!0}},{path:"/signin",name:"signin",component:q},{path:"/signup",name:"signup",component:J}],te=new w.ZP({mode:"history",base:"/",routes:ee});te.beforeEach(((e,t,n)=>{e.matched.some((e=>e.meta.login))?(setTimeout((()=>{window.localStorage.getItem("token")||n({name:"signin"})}),300),n()):n()}));var ne=te,se=n(3822),ie=n(4161);const ae=ie.Z.create({baseURL:"https://identitytoolkit.googleapis.com/v1"});ae.interceptors.request.use((function(e){const t=window.localStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)}));const re={get(e){return ae.get(e)},post(e,t){return ae.post(e,t)},put(e,t){return ae.put(e,t)},login(e,t){return ae.post(e,t)},createUser(e,t){return ae.post(e,t)}};var oe={signIn(e){return re.login("/accounts:signInWithPassword?key=AIzaSyC1vQ7Y0236BI4BChIvziSqGrQzrhSu6pc",e)},validToken(){return re.login("/accounts:lookup?key=AIzaSyC1vQ7Y0236BI4BChIvziSqGrQzrhSu6pc",{idToken:window.localStorage.getItem("token")})},signUp(e){return re.login("/accounts:signUp?key=AIzaSyC1vQ7Y0236BI4BChIvziSqGrQzrhSu6pc",e)},updateUser(e){return re.login("/accounts:update?key=AIzaSyC1vQ7Y0236BI4BChIvziSqGrQzrhSu6pc",e)}};s.ZP.use(se.ZP);var ue=new se.ZP.Store({state:{user:{name:"",email:""}},getters:{firstName:e=>{var t=e.user.name.replace(/ .*/,"");return t}},mutations:{GET_USER({user:e},t){e.email=t.email,e.name=t.displayName},UPDATE_USER({user:e},t){e.email=t.email,e.name=t.displayName}},actions:{async validateToken({commit:e}){const{data:t}=await oe.validToken(),[n]=t.users;e("GET_USER",n)},async updateUser({commit:e},t){const{data:n}=await oe.updateUser({displayName:t.displayName,email:t.email,idToken:window.localStorage.getItem("token"),returnSecureToken:!0});n.idToken&&window.localStorage.setItem("token",n.idToken),e("UPDATE_USER",n)},async sigIn({commit:e},t){const{data:n}=await oe.signIn({email:t.email,password:t.password,returnSecureToken:!0});e("UPDATE_USER",n),window.localStorage.setItem("token",n.idToken)},async signUp({dispatch:e},t){const{data:n}=await oe.signUp({email:t.email,password:t.password,returnSecureToken:!0});window.localStorage.setItem("token",n.idToken),await e("updateUser",t)}},modules:{}}),le=n(7522),pe=function(){var e=this,t=e._self._c;return e.isLoading?t("div",{staticClass:"loading-container"},[t("span",{staticClass:"loading"})]):e._e()},de=[],me={name:"PageLoading",props:{isLoading:{type:Boolean,required:!0}}},ce=me,ge=(0,p.Z)(ce,pe,de,!1,null,null,null),he=ge.exports;n(387);s.ZP.use(le.ZP),s.ZP.config.productionTip=!1,s.ZP.component("PageLoading",he),new s.ZP({router:ne,store:ue,render:e=>e(f)}).$mount("#app")}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,s,i,a){if(!s){var r=1/0;for(p=0;p<e.length;p++){s=e[p][0],i=e[p][1],a=e[p][2];for(var o=!0,u=0;u<s.length;u++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[u])}))?s.splice(u--,1):(o=!1,a<r&&(r=a));if(o){e.splice(p--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[s,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,a,r=s[0],o=s[1],u=s[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(u)var p=u(n)}for(t&&t(s);l<r.length;l++)a=r[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(p)},s=self["webpackChunkswordhealth_interviewer"]=self["webpackChunkswordhealth_interviewer"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(8248)}));s=n.O(s)})();
//# sourceMappingURL=app.40e70798.js.map